<div id="repoheader">
  [Source]
  [Commits]
  <% if @owner == @user -%>
  <%= link_to '[Admin]', edit_repository_path(@repository) %>
  <% end -%>
</div>

<hr>
Branches:
<% for branch in @repo.branches() %>
<%= h branch.name %><br />
<% end %>

<div id="repository">
<%= link_to h(@owner.username), :controller => 'users', :action => 'show', :user => @owner.username %> / <b><%= link_to h @repository.name %></b><br />
Description: <%=h @repository.description %><br />
Homepage: <%=h @repository.url %><br />
Public Clone URL: <b>git://<%= @host + ':' + h(@owner.username) + '/' + h(@repository.name) + '.git' %></b><br />
Your Clone URL: <b>git@<%= @host + ':' + h(@owner.username) + '/' + h(@repository.name) + '.git' %></b><br />
</div>

<div class="commit">
<% for commit in @repo.commits('master', 1) %>
<%= h commit.message %><br />
<%= h commit.author %><br />
<%= h commit.date() %><br />
<% end %>
</div>

Tree
<div class="tree">
<% for f in @repo.commits.last.tree.contents %>
<%=    h f.name %><br/>
<%  end %>
</div>
